<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CityPop</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
    </style>
    <script src="../js/p5.min.js"></script>
  </head>
  <body>
    <script>
      function setup() {
        createCanvas(windowWidth, windowHeight);
        // 그라데이션 색상
        gradient_1 = color(0, 192, 255);
        gradient_2 = color(255, 0, 234);
        // 배경 색상 지정
        setGradient(0, 0, width, height, gradient_1, gradient_2);
        // 소실점
        vanishing_point_X = windowWidth / 2;
        vanishing_point_Y = windowHeight / 3;
        // 소실점에서 선 연결하기
        size = sqrt(
          pow(windowWidth - vanishing_point_X, 2) +
            pow(windowHeight - vanishing_point_Y, 2)
        );
        for (let i = 0; i <= 180; i += 10) {
          line(
            vanishing_point_X,
            vanishing_point_Y,
            cos(degreeToRad(i)) * size + vanishing_point_X,
            sin(degreeToRad(i)) * size + vanishing_point_Y
          );
          console.log("degree: ", i);
          console.log("radian: ", degreeToRad(i));
          console.log("cos : ", cos(degreeToRad(i)));
          console.log("sin : ", sin(degreeToRad(i)));
        }
      }

      // Degree to Radian
      function degreeToRad(degree) {
        return (degree * Math.PI) / 180;
      }

      function draw() {
        // 수평선
        push();
        noFill();
        line(0, windowHeight / 2, windowWidth, windowHeight / 2);
        pop();
      }

      // window size 조절 시, canvas 크기 변경
      function windowResized() {
        resizeCanvas(windowWidth, windowHeight);
        vanishing_point_X = windowWidth / 2;
        vanishing_point_Y = windowHeight / 3;
        setGradient(0, 0, width, height, gradient_1, gradient_2);
      }

      // Gradient Color Setup(Y)
      function setGradient(x, y, w, h, c1, c2) {
        noFill();
        for (let i = y; i <= y + h; i++) {
          let inter = map(i, y, y + h, 0, 1);
          let c = lerpColor(c1, c2, inter);
          stroke(c);
          line(x, i, x + w, i);
        }
      }
    </script>
  </body>
</html>
